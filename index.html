<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spin & Win</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            direction: rtl;
            text-align: center;
        }
        #container {
            position: relative;
            width: 500px;
            height: 500px;
            margin: auto;
            padding-top: 100px;
        }
        #wheel {
            width: 400px;
            height: 400px;
            border-radius: 50%;
            background-color: #ffdb58;
            position: relative;
            margin: auto;
            border: 5px solid #333;
        }
        #wheel .wheel-text {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            font-size: 18px;
            font-weight: bold;
            color: #fff;
        }
        #pointer {
            width: 30px;
            height: 30px;
            background-color: red;
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 50%;
            z-index: 10;
        }
        #spinButton {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            font-size: 18px;
            cursor: pointer;
        }
        #spinButton:disabled {
            background-color: #ccc;
        }
        #sidebar {
            position: fixed;
            right: 0;
            top: 100px;
            width: 200px;
            background-color: #fff;
            border-left: 2px solid #ddd;
            height: 100%;
            overflow-y: auto;
            padding: 10px;
        }
        #sidebar h3 {
            font-size: 18px;
        }
        #winnersList {
            list-style: none;
            padding: 0;
        }
        #winnersList li {
            padding: 5px 0;
            font-size: 16px;
        }
        .user-avatar {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            margin-left: 10px;
        }
        #prize {
            margin-top: 20px;
            font-size: 20px;
            font-weight: bold;
        }
        #prizeImage img {
            margin-top: 10px;
            width: 100px;
        }
        .wheel-text img {
            width: 20px;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="wheel">
            <!-- Prize Text on Wheel -->
            <div class="wheel-text" style="top: 0%;">5000000 د.ع <img src="https://png.pngtree.com/png-clipart/20220504/ourmid/pngtree-50-iraqi-dinar-stack-png-image_4562534.png" alt="5000000 Dinar"></div>
            <div class="wheel-text" style="top: 12.5%;">1000000 د.ع <img src="https://png.pngtree.com/png-clipart/20220504/ourlarge/pngtree-25000-iraqi-dinar-stack-png-image_4562515.png" alt="1000000 Dinar"></div>
            <div class="wheel-text" style="top: 25%;">750000 د.ع <img src="https://png.pngtree.com/png-clipart/20220918/original/pngtree-10000-iraqi-dianr-stacks-png-image_8622596.png" alt="750000 Dinar"></div>
            <div class="wheel-text" style="top: 37.5%;">500000 د.ع <img src="https://png.pngtree.com/png-clipart/20220917/ourmid/pngtree-5000-iraqi-dinar-stack-png-image_6199017.png" alt="500000 Dinar"></div>
            <div class="wheel-text" style="top: 50%;">سفرة مجانية الى تركيا <img src="https://www.pngitem.com/pimgs/m/50-509936_turkish-airlines-aircraft-png-transparent-png.png" alt="Trip to Turkey"></div>
            <div class="wheel-text" style="top: 62.5%;">iPhone 16 Pro Max <img src="https://directunlocks.com/devices/compressed/iphone-16-pro.png" alt="iPhone 16 Pro Max"></div>
            <div class="wheel-text" style="top: 75%;">Samsung S24 Ultra <img src="https://d3n91k3iwhucwl.cloudfront.net/media/sm-s928_galaxys24ultra_devicebackl30_titaniumgray_231106.png" alt="Samsung S24 Ultra"></div>
            <div class="wheel-text" style="top: 87.5%;">لا شيء <img src="https://deva.cimanow.online/wp-content/uploads/2021/02/%D9%85%D8%B3%D9%84%D8%B3-%D9%84%D8%A7-%D8%B4%D9%89-%D9%85%D8%AA%D8%B1%D8%AC%D9%85-%D9%84%D9%88%D8%AC%D9%88.png" alt="No Prize"></div>
        </div>
        <div id="pointer"></div>
        <button id="spinButton">إبدأ الدوران</button>

        <div id="prize"></div>
        <div id="prizeImage"></div>
    </div>

    <div id="sidebar">
        <h3>الذين فازوا الآن</h3>
        <ul id="winnersList">
            <!-- Winner names will appear here -->
        </ul>
    </div>

    <script>
        const comments = [
            { text: 'حسن فاز! 🏆', avatar: 'https://randomuser.me/api/portraits/men/1.jpg' },
            { text: 'سارة فازت! 🎉', avatar: 'https://randomuser.me/api/portraits/women/1.jpg' },
            { text: 'محمد فاز! 🤩', avatar: 'https://randomuser.me/api/portraits/men/2.jpg' },
            { text: 'ميساء فازت بالجائزة الكبرى! 🏆', avatar: 'https://randomuser.me/api/portraits/women/2.jpg' },
            { text: 'علي فاز! 💥', avatar: 'https://randomuser.me/api/portraits/men/3.jpg' },
            // Add more comments as needed
        ];

        let canSpin = true;

        // Generate random winner and add to the winners list under the wheel
        function addWinner() {
            const randomComment = comments[Math.floor(Math.random() * comments.length)];
            const winnerText = `${randomComment.text} <img src="${randomComment.avatar}" class="user-avatar" alt="Avatar">`;
            const winnerItem = document.createElement('li');
            winnerItem.innerHTML = winnerText;
            document.getElementById('winnersList').prepend(winnerItem);

            // Ensure only 20 winners are displayed at all times
            const winnersList = document.getElementById('winnersList');
            if (winnersList.children.length > 20) {
                winnersList.removeChild(winnersList.lastChild);
            }
        }

        // Generate random prize
        function generateRandomPrize() {
            const prizes = [
                '5000000 د.ع',
                '1000000 د.ع',
                '750000 د.ع',
                '500000 د.ع',
                'سفرة مجانية الى تركيا',
                'iPhone 16 Pro Max',
                'Samsung S24 Ultra',
                'لا شيء'
            ];
            return prizes[Math.floor(Math.random() * prizes.length)];
        }

        // Spin Button Logic
        const spinButton = document.getElementById('spinButton');
        const prizeDisplay = document.getElementById('prize');
        const prizeImage = document.getElementById('prizeImage');
        const wheel = document.getElementById('wheel');

        spinButton.addEventListener('click', function() {
            if (!canSpin) return; // Prevent spinning twice
            const deg = Math.floor(Math.random() * 360) + 3600; // random large number for spin
            wheel.style.transition = 'transform 4s ease-out';
            wheel.style.transform = `rotate(${deg}deg)`;

            setTimeout(() => {
                // Show prize after spin
                const prize = generateRandomPrize();
                prizeDisplay.innerHTML = `لقد فزت: ${prize}`;
                
                let prizeImg = '';
                switch (prize) {
                    case '5000000 د.ع':
                        prizeImg = `<img src="https://png.pngtree.com/png-clipart/20220504/ourmid/pngtree-50-iraqi-dinar-stack-png-image_4562534.png" alt="5000000 Dinar">`;
                        break;
                    case '1000000 د.ع':
                        prizeImg = `<img src="https://png.pngtree.com/png-clipart/20220504/ourlarge/pngtree-25000-iraqi-dinar-stack-png-image_4562515.png" alt="1000000 Dinar">`;
                        break;
                    case '750000 د.ع':
                        prizeImg = `<img src="https://png.pngtree.com/png-clipart/20220918/original/pngtree-10000-iraqi-dianr-stacks-png-image_8622596.png" alt="750000 Dinar">`;
                        break;
                    case '500000 د.ع':
                        prizeImg = `<img src="https://png.pngtree.com/png-clipart/20220917/ourmid/pngtree-5000-iraqi-dinar-stack-png-image_6199017.png" alt="500000 Dinar">`;
                        break;
                    case 'سفرة مجانية الى تركيا':
                        prizeImg = `<img src="https://www.pngitem.com/pimgs/m/50-509936_turkish-airlines-aircraft-png-transparent-png.png" alt="Trip to Turkey">`;
                        break;
                    case 'iPhone 16 Pro Max':
                        prizeImg = `<img src="https://directunlocks.com/devices/compressed/iphone-16-pro.png" alt="iPhone 16 Pro Max">`;
                        break;
                    case 'Samsung S24 Ultra':
                        prizeImg = `<img src="https://d3n91k3iwhucwl.cloudfront.net/media/sm-s928_galaxys24ultra_devicebackl30_titaniumgray_231106.png" alt="Samsung S24 Ultra">`;
                        break;
                    default:
                        prizeImg = `<img src="https://deva.cimanow.online/wp-content/uploads/2021/02/%D9%85%D8%B3%D9%84%D8%B3-%D9%84%D8%A7-%D8%B4%D9%89-%D9%85%D8%AA%D8%B1%D8%AC%D9%85-%D9%84%D9%88%D8%AC%D9%88.png" alt="No Prize">`;
                        break;
                }
                prizeImage.innerHTML = prizeImg;

                // Re-enable spinning after the prize display
                setTimeout(() => {
                    canSpin = true;
                }, 5000); // 5 seconds delay before re-enabling spin
            }, 4000); // Wait for the wheel to finish spinning
        });

        // Generate initial winners when the site loads
        for (let i = 0; i < 20; i++) {
            addWinner();
        }

    </script>
</body>
</html>
